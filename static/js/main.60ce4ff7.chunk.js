(this["webpackJsonponline-burger-order"]=this["webpackJsonponline-burger-order"]||[]).push([[0],[,,,,,function(e,t,n){e.exports={breadtop:"style_breadtop__1KCa9",seed:"style_seed__3dGac",second:"style_second___fUFa",third:"style_third__3wpEi",fourth:"style_fourth__35PTg",salad:"style_salad__2dGYv",meat:"style_meat__3RRH9",cheese:"style_cheese__1Vtsp",bacon:"style_bacon__8avP0",breadbottom:"style_breadbottom__2DjhY"}},,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(2),c=n(6),r=n(1),s=n.n(r),o=n(14),i=n(0),l={saving:!1,loginIn:!1,firebaseError:"",token:"",userId:"",expiresData:""},u=s.a.createContext(),j=function(e){var t=Object(r.useState)(l),n=Object(c.a)(t,2),s=n[0],j=n[1],d=function e(t){o.a.post("https://securetoken.googleapis.com/v1/token?key=AIzaSyBmEBJdrvIQEMBVGZZCy_9wnmn2uVT1ufU",{grant_type:"refresh_token",refresh_token:localStorage.getItem("refreshToken")}).then((function(e){var t=e.data.id_token,n=e.data.user_id,a=e.data.expires_in,c=new Date((new Date).getTime()+1e3*a),r=e.data.refresh_token;b(t,n,c,r)})).catch((function(e){return j(Object(a.a)(Object(a.a)({},s),{},{loginIn:!1,firebaseError:e,expiresData:null}))})),setTimeout((function(){e(36e5)}),t)},b=function(e,t,n,c){localStorage.setItem("token",e),localStorage.setItem("userId",t),localStorage.setItem("expiresData",n),localStorage.setItem("refreshToken",c),j(Object(a.a)(Object(a.a)({},s),{},{loginIn:!1,firebaseError:null,token:e,userId:t,expiresData:n}))};return Object(i.jsx)(u.Provider,{value:{state:s,signupUser:function(e,t){j(Object(a.a)(Object(a.a)({},s),{},{saving:!0}));var n={email:e,password:t,returnSecureToken:!0};o.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyBmEBJdrvIQEMBVGZZCy_9wnmn2uVT1ufU",n).then((function(e){var t=e.data.idToken,n=e.data.localId,c=e.data.expiresIn,r=new Date((new Date).getTime()+1e3*c),o=e.data.refreshToken;b(t,n,r,o),j(Object(a.a)(Object(a.a)({},s),{},{token:t,userId:n,saving:!1,firebaseError:null}))})).catch((function(e){return j(Object(a.a)(Object(a.a)({},s),{},{saving:!1,token:null,userId:null,firebaseError:e.message}))}))},loginUser:function(e,t){j(Object(a.a)(Object(a.a)({},s),{},{loginIn:!0}));var n={email:e,password:t,returnSecureToken:!0};o.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyBmEBJdrvIQEMBVGZZCy_9wnmn2uVT1ufU",n).then((function(e){var t=e.data.idToken,n=e.data.localId,a=e.data.expiresIn,c=new Date((new Date).getTime()+1e3*a),r=e.data.refreshToken;b(t,n,c,r),d(9e3)})).catch((function(e){return j(Object(a.a)(Object(a.a)({},s),{},{loginIn:!1,firebaseError:e,expiresData:null}))}))},logOut:function(){localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("expiresData"),localStorage.removeItem("refreshToken"),j(l)},autoLoginSuccess:b,autoRevewLoginAfterMilsec:d},children:e.children})};t.b=u},,function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(19),c=n(2),r=n(6),s=n(14),o=n(1),i=n.n(o),l=n(0),u={salad:150,cheese:250,bacon:800,meat:1500},j={ingredients:{salad:0,cheese:0,bacon:0,meat:0},totalPrice:0,purchasing:!1,ingredients_name:{salad:"\u0421\u0430\u043b\u0430\u0434",bacon:"\u0413\u0430\u0445\u0430\u0439\u043d \u043c\u0430\u0445",cheese:"\u0411\u044f\u0441\u043b\u0430\u0433",meat:"\u04ae\u0445\u0440\u0438\u0439\u043d \u043c\u0430\u0445"},saving:!1,finished:!1,error:null},d=i.a.createContext(),b=function(e){var t=Object(o.useState)(j),n=Object(r.a)(t,2),i=n[0],b=n[1];return Object(l.jsx)(d.Provider,{value:{burger:i,addIngredients:function(e){b(Object(c.a)(Object(c.a)({},i),{},{ingredients:Object(c.a)(Object(c.a)({},i.ingredients),{},Object(a.a)({},e,i.ingredients[e]+1)),totalPrice:i.totalPrice+u[e],purchasing:!0}))},removeIngredients:function(e){var t=i.totalPrice-u[e];b(Object(c.a)(Object(c.a)({},i),{},{ingredients:Object(c.a)(Object(c.a)({},i.ingredients),{},Object(a.a)({},e,i.ingredients[e]-1)),totalPrice:t,purchasing:t>0}))},dataToFirebase:function(e,t){b(Object(c.a)(Object(c.a)({},i),{},{saving:!0})),s.a.post("/orders.json?auth=".concat(t),e).then((function(e){b(Object(c.a)(Object(c.a)({},i),{},{saving:!1,finished:!0,error:null}))})).catch((function(e){return b(Object(c.a)(Object(c.a)({},i),{},{saving:!1,finished:!0,error:e}))}))},clearBurger:function(){b(j)}},children:e.children})};t.b=d},function(e,t,n){"use strict";var a=n(48),c=n.n(a).a.create({baseURL:"https://burgerr-feb1e-default-rtdb.asia-southeast1.firebasedatabase.app/"});t.a=c},function(e,t,n){"use strict";n(1);var a=n(28),c=n.n(a),r=n(0);t.a=function(e){return Object(r.jsx)("button",{onClick:e.daragdsan,className:"".concat(c.a.Button," ").concat(c.a[e.btnType]),children:e.text})}},,function(e,t,n){e.exports={SideBar:"style_SideBar__3yAKL",Logo:"style_Logo__h78e6",Open:"style_Open__21_3T",Close:"style_Close__1h9AE"}},,,function(e,t,n){"use strict";n(1);var a=n(50),c=n.n(a),r=n(0);t.a=function(){return Object(r.jsx)("div",{className:c.a.Loader})}},,,,,function(e,t,n){e.exports={MenuItem:"style_MenuItem__20Iq-",active:"style_active__OQ6uy"}},,function(e,t,n){e.exports={Toolbar:"style_Toolbar__sA08T",HideOnMobile:"style_HideOnMobile__2bQc0"}},function(e,t,n){e.exports={Button:"style_Button__7JKQT",Success:"style_Success__1Y1tO",Danger:"style_Danger__2Hb-N"}},function(e,t,n){e.exports={appStyle:"style_appStyle__2UKu3",Content:"style_Content__1WNla"}},,,,,,,,,,function(e,t,n){"use strict";n(1);var a=n(51),c=n.n(a),r=n(0);t.a=function(e){return e.show?Object(r.jsx)("div",{onClick:e.onClicked,className:c.a.Shadow,children:" "}):null}},function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(2),c=n(6),r=n(1),s=n.n(r),o=n(14),i=n(0),l={orders:[],loading:!1,error:null},u=s.a.createContext(),j=function(e){var t=Object(r.useState)(l),n=Object(c.a)(t,2),s=n[0],j=n[1];return Object(i.jsx)(u.Provider,{value:{state:s,loadOders:function(e,t){j(Object(a.a)(Object(a.a)({},s),{},{loading:!0})),o.a.get("orders.json?&auth=".concat(t,'&orderBy="userId"&equalTo="').concat(e,'"')).then((function(e){var t=Object.entries(e.data).reverse();j(Object(a.a)(Object(a.a)({},s),{},{orders:t}))})).catch((function(e){return j(Object(a.a)(Object(a.a)({},s),{},{error:e}))}))},clearOrdersState:function(){j(l)}},children:e.children})};t.b=u},function(e,t,n){"use strict";var a=n(1),c=n(5),r=n.n(c),s=n(0),o=function(e){return"breadtop"===e.type?Object(s.jsxs)("div",{className:r.a.breadtop,children:[Object(s.jsx)("div",{className:"".concat(r.a.seed," ").concat(r.a.second)}),Object(s.jsx)("div",{className:"".concat(r.a.seed," ").concat(r.a.third)}),Object(s.jsx)("div",{className:"".concat(r.a.seed," ").concat(r.a.fourth)}),Object(s.jsx)("div",{className:r.a.seed})]}):"seed"===e.type?Object(s.jsx)("div",{className:r.a.seed}):"second"===e.type?Object(s.jsx)("div",{className:r.a.second}):"third"===e.type?Object(s.jsx)("div",{className:r.a.third}):"salad"===e.type?Object(s.jsx)("div",{className:r.a.salad}):"bacon"===e.type?Object(s.jsx)("div",{className:r.a.bacon}):"cheese"===e.type?Object(s.jsx)("div",{className:r.a.cheese}):"meat"===e.type?Object(s.jsx)("div",{className:r.a.meat}):"breadbottom"===e.type?Object(s.jsx)("div",{className:r.a.breadbottom}):Object(s.jsx)("div",{children:"........"})},i=n(52),l=n.n(i),u=n(13);t.a=function(e){var t=Object(a.useContext)(u.b),n=Object.entries(t.burger.ingredients),c=[];return n.map((function(e,t){for(var n=0;n<e[1];n++)c.push(Object(s.jsx)(o,{type:e[0]},"".concat(t+1).concat(n)))})),0===c.length&&(c=Object(s.jsx)("p",{children:" \u0422\u0430 \u0442\u0430\u043b\u0445\u043d\u044b\u0445\u0430\u0430 \u0445\u0430\u0447\u0438\u0440\u044b\u0433 \u043e\u0440\u0443\u0443\u043b\u043d\u0430 \u0443\u0443! . . . . "})),Object(s.jsxs)("div",{className:l.a.burger,children:[Object(s.jsx)(o,{type:"breadtop"}),c,Object(s.jsx)(o,{type:"breadbottom"})]})}},,function(e,t,n){e.exports={HanburgerMenu:"style_HanburgerMenu__1IC-b"}},function(e,t,n){e.exports={Logo:"styles_Logo__1lPQX"}},,,function(e,t,n){e.exports={Menu:"style_Menu__2x8jJ"}},,function(e,t,n){e.exports={Login:"style_Login__3WZgg"}},function(e,t,n){e.exports={Loader:"style_Loader__2V5Hk",load1:"style_load1__3L66T"}},function(e,t,n){e.exports={Shadow:"style_Shadow__v1sst"}},function(e,t,n){e.exports={burger:"style_burger__2uR85"}},function(e,t,n){e.exports={ShippningPage:"style_ShippningPage__39M5_"}},function(e,t,n){e.exports={ContactData:"style_ContactData__2fs8H"}},,,,,,,function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(42),s=n.n(r),o=(n(61),n(6)),i=n(43),l=n.n(i),u=n(0),j=function(e){return Object(u.jsxs)("div",{onClick:e.toggleSidBar,className:l.a.HanburgerMenu,children:[Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{})]})},d=n(44),b=n.n(d),O=n.p+"static/media/burger-logo.ec69c7f6.png",g=function(){return Object(u.jsx)("div",{className:b.a.Logo,children:Object(u.jsx)("img",{src:O})})},x=n(25),h=n.n(x),p=n(12),f=function(e){return Object(u.jsx)("li",{className:h.a.MenuItem,children:Object(u.jsxs)(p.b,{exact:e.exact,activeClassName:h.a.active,to:e.link,children:[" ",e.children," "]})})},_=n(47),v=n.n(_),m=n(11),y=function(e){var t=Object(a.useContext)(m.b);return Object(u.jsx)("div",{className:v.a.Menu,children:Object(u.jsx)("ul",{children:t.state.userId?Object(u.jsxs)(a.Fragment,{children:[Object(u.jsx)(f,{exact:!0,link:"/",active:!0,children:"\u0428\u0438\u043d\u044d \u0437\u0430\u0445\u0438\u0430\u043b\u0433\u0430"}),Object(u.jsx)(f,{link:"/orders",children:"\u0417\u0430\u0445\u0438\u0430\u043b\u0433\u0430\u043d\u0443\u0443\u0434"}),Object(u.jsx)(f,{link:"/logout",children:"\u0413\u0430\u0440\u0430\u0445"})]}):Object(u.jsxs)(a.Fragment,{children:[Object(u.jsx)(f,{link:"/login",children:"\u041d\u044d\u0432\u0442\u0440\u044d\u0445"}),Object(u.jsx)(f,{link:"/sign",children:"\u0411\u04af\u0440\u0442\u0433\u04af\u04af\u043b\u044d\u0445"})]})})})},S=n(27),I=n.n(S),k=function(e){return Object(u.jsxs)("header",{className:I.a.Toolbar,children:[Object(u.jsx)(j,{toggleSidBar:e.toggleSidBar}),Object(u.jsx)(g,{}),Object(u.jsx)("nev",{className:I.a.HideOnMobile,children:Object(u.jsx)(y,{})})]})},C=n(3),T=n(49),N=n.n(T),B=n(15),w=n(20),D=function(e){var t=Object(a.useState)(""),n=Object(o.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),i=Object(o.a)(s,2),l=i[0],j=i[1],d=Object(a.useContext)(m.b);return Object(u.jsxs)("div",{className:N.a.Login,children:[d.state.userId&&Object(u.jsx)(C.a,{to:"/orders"}),Object(u.jsx)("div",{children:"\u041d\u044d\u0432\u0442\u0440\u044d\u0445"}),Object(u.jsx)("input",{onChange:function(e){r(e.target.value)},type:"text",placeholder:"Email \u0445\u0430\u044f\u0433 \u0430\u0430 \u043e\u0440\u0443\u0443\u043b\u043d\u0430 \u0443\u0443"}),Object(u.jsx)("input",{onChange:function(e){j(e.target.value)},type:"password",placeholder:"\u041d\u0443\u0443\u0446 \u04af\u0433 \u044d\u044d \u043e\u0440\u0443\u0443\u043b\u043d\u0430 \u0443\u0443"}),d.state.loginIn&&Object(u.jsx)(w.a,{}),d.state.firebaseError&&Object(u.jsx)("div",{style:{color:"red"},children:d.state.firebaseError}),Object(u.jsx)(B.a,{daragdsan:function(){d.loginUser(c,l)},text:"\u0418\u043b\u0433\u044d\u044d\u0445",btnType:"Success"})]})},E=function(e){var t=Object(a.useContext)(m.b);return Object(a.useEffect)((function(){t.logOut()}),[]),Object(u.jsx)(C.a,{to:"/login"})},L=n(29),P=n.n(L),M=n(17),H=n.n(M),U=n(39),F=function(e){var t=[H.a.SideBar,H.a.Close];return e.showSidBar&&(t=[H.a.SideBar,H.a.Open]),Object(u.jsxs)("div",{children:[Object(u.jsx)(U.a,{onClicked:e.toggleSidBar,show:e.showSidBar}),Object(u.jsxs)("div",{onClick:e.toggleSidBar,className:t.join(" "),children:[Object(u.jsx)("div",{className:H.a.Logo,children:Object(u.jsx)(g,{})}),Object(u.jsx)(y,{})]})]})},z=n(41),A=n(53),V=n.n(A),J=n(54),Q=n.n(J),R=n(13),Z=function(e){var t=Object(a.useState)(),n=Object(o.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(),i=Object(o.a)(s,2),l=i[0],j=i[1],d=Object(a.useState)(),b=Object(o.a)(d,2),O=b[0],g=b[1],x=Object(C.g)(),h=Object(a.useContext)(R.b),p=Object(a.useContext)(m.b),f=Object(a.useRef)();return Object(a.useEffect)((function(){return h.burger.finished&&!h.burger.error&&x.replace("/orders"),function(){h.clearBurger()}}),[h.burger.finished]),Object(u.jsxs)("div",{className:Q.a.ContactData,children:[Object(u.jsx)("div",{ref:f,children:Object(u.jsxs)("strong",{style:{fontSize:"20px"},children:["\u041d\u0438\u0439\u0442 \u04af\u043d\u044d: ",h.burger.totalPrice]})}),Object(u.jsxs)("div",{children:[" ",h.burger.error&&"\u0418\u043b\u0433\u044d\u044d\u0445 \u044f\u0432\u0446\u0430\u0434 \u0430\u043b\u0434\u0430\u0430 \u0433\u0430\u0440\u043b\u0430\u0430 : ".concat(h.burger.error)]}),h.burger.saving?Object(u.jsx)(w.a,{}):Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{onChange:function(e){"red"===f.current.style.color?f.current.style.color="blue":f.current.style.color="red",g(e.target.value)},type:"text",name:"",placeholder:"\u0422\u0430\u043d\u044b \u043d\u044d\u0440"}),Object(u.jsx)("input",{onChange:function(e){r(e.target.value)},type:"text",name:"city",placeholder:"\u0422\u0430\u043d\u044b \u0437\u0430\u0445\u0438\u0430\u043b\u0430\u0445 \u0445\u043e\u0442"}),Object(u.jsx)("input",{onChange:function(e){j(e.target.value)},type:"text",name:"street",placeholder:"\u0422\u0430\u043d\u044b \u0433\u0443\u0434\u0430\u043c\u0436"}),Object(u.jsx)(B.a,{daragdsan:function(){var e={userId:p.state.userId,orts:h.burger.ingredients,dun:h.burger.totalPrice,hayag:{name:O,city:c,street:l}};h.dataToFirebase(e,p.state.token)},text:"\u0418\u043b\u0433\u044d\u044d\u0445",btnType:"Success"})]})]})},G=function(e){var t=Object(a.useContext)(R.b);return Object(u.jsxs)("div",{className:V.a.ShippningPage,children:[Object(u.jsxs)("p",{style:{fontSize:"25px",paddingTop:"18px"},children:[Object(u.jsx)("strong",{children:"\u0422\u0430\u043d\u044b \u0437\u0430\u0445\u0438\u0430\u043b\u0433\u0430 \u0430\u043c\u0442\u0442\u0430\u0439 \u0431\u043e\u043b\u043d\u043e \u0433\u044d\u0436 \u043d\u0430\u0439\u0434\u0430\u0436 \u0431\u0430\u0439\u043d\u0430."})," "]}),Object(u.jsxs)("p",{children:[Object(u.jsxs)("strong",{children:["\u041d\u0438\u0439\u0442 \u04af\u043d\u044d: ",t.burger.totalPrice]})," "]}),Object(u.jsx)(z.a,{}),Object(u.jsx)(B.a,{text:"\u0417\u0430\u0445\u0438\u0430\u043b\u0433\u044b\u0433 \u0446\u0443\u0446\u043b\u0430\u0445",daragdsan:function(){e.history.goBack()},btnType:"Danger"}),Object(u.jsx)(B.a,{text:"\u0425\u04af\u0440\u0433\u044d\u043b\u0442\u0438\u0439\u043d \u043c\u044d\u0434\u044d\u044d\u043b\u044d\u043b \u043e\u0440\u0443\u0443\u043b\u0430\u0445",daragdsan:function(){e.history.replace("/shipping/contact")},btnType:"Success"}),Object(u.jsx)(C.b,{path:"/shipping/contact",children:Object(u.jsx)(Z,{})})]})},K=n(40),W=c.a.lazy((function(){return Promise.all([n.e(2),n.e(4)]).then(n.bind(null,520))})),Y=c.a.lazy((function(){return n.e(6).then(n.bind(null,518))})),q=c.a.lazy((function(){return n.e(5).then(n.bind(null,521))})),X=function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),c=n[0],r=n[1],s=Object(a.useContext)(m.b),i=function(){r(!c)};return Object(a.useEffect)((function(){var e=localStorage.getItem("token"),t=localStorage.getItem("userId"),n=new Date(localStorage.getItem("expiresData")),a=localStorage.getItem("refreshToken");e&&(n>new Date?(s.autoLoginSuccess(e,t,n,a),s.autoRevewLoginAfterMilsec(n.getTime()-(new Date).getTime())):s.logOut())}),[]),Object(u.jsxs)("div",{className:P.a.appStyle,children:[Object(u.jsx)(k,{toggleSidBar:i}),Object(u.jsx)(F,{showSidBar:c,toggleSidBar:i}),Object(u.jsx)(R.a,{children:Object(u.jsx)(a.Suspense,{fallback:Object(u.jsx)("div",{children:"\u0442\u0430 \u0442\u04af\u0440 \u0445\u04af\u043b\u044d\u044d\u043d\u044d \u04af\u04af\u04af \u0442\u04af\u0440 \u0445\u04af\u043b\u044d\u044d\u044d\u044d\u044d\u044d\u044d\u044d\u044d\u044d !!!!!!"}),children:Object(u.jsx)("main",{className:P.a.Content,children:s.state.userId?Object(u.jsxs)(C.d,{children:[Object(u.jsx)(C.b,{path:"/logout",component:E}),Object(u.jsx)(C.b,{path:"/orders",children:Object(u.jsx)(K.a,{children:Object(u.jsx)(q,{})})}),Object(u.jsx)(C.b,{path:"/shipping",component:G}),Object(u.jsx)(C.b,{path:"/",component:W})]}):Object(u.jsxs)(C.d,{children:[Object(u.jsx)(C.b,{path:"/sign",component:Y}),Object(u.jsx)(C.b,{path:"/login",component:D}),Object(u.jsx)(C.a,{to:"login"})]})})})})]})},$=function(e){e&&e instanceof Function&&n.e(7).then(n.bind(null,519)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};s.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(p.a,{children:Object(u.jsx)(m.a,{children:Object(u.jsx)(X,{})})})}),document.getElementById("root")),$()}],[[84,1,3]]]);
//# sourceMappingURL=main.60ce4ff7.chunk.js.map